/*  ========================================================================
 *  Frosty.js v1.0.5
 *  https://owensbla.github.com/frosty/
 *
 *  Plugin boilerplate provied by: http://jqueryboilerplate.com/
 *  ========================================================================
 *  Copyright 2013 Blake Owens (http://blakeowens.com/)
 *  
 *  Permission is hereby granted, free of charge, to any person obtaining a copy of this software
 *  and associated documentation files (the "Software"), to deal in the Software without restriction,
 *  including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
 *  and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, 
 *  subject to the following conditions:
 *  
 *  The above copyright notice and this permission notice shall be included in all copies or 
 *  substantial portions of the Software.
 *  
 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT 
 *  LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 *  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
 *  WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE 
 *  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *  ======================================================================== */
 (function(b,e,h,k){function f(a,d){this.anchor=a;this.$anchor=b(a);this.options=b.extend({},g,d,this.$anchor.data());this._defaults=g;this._name="frosty";this.init()}var g={attribute:"title",classes:"tip",content:"",delay:0,hasArrow:!0,html:!1,offset:10,position:"top",removeTitle:!0,selector:!1,smartReposition:!0,trigger:"hover",onHidden:function(){},onShown:function(){}};f.prototype={init:function(){this.rid=Math.random().toString(36).substr(2,16);this._createTip();this._bindEvents()},_createTip:function(){this.options.html?this.tipContent=this.options.content:this.options.selector?this.tipContent=b(this.options.selector).html():(this.tipContent=this.$anchor.attr(this.options.attribute),"title"===this.options.attribute&&this.options.removeTitle&&(this.$anchor.attr("data-original-title",this.tipContent),this.$anchor.removeAttr("title")));this.$el=b("<div />",{"class":this.options.classes,html:this.tipContent}).css({"z-index":"9999",left:"-9999px",position:"absolute"});this.$el.appendTo("body");var a=this._getPosition();this.$el.detach().css(a);this.options.hasArrow&&this._addArrowClass()},_bindEvents:function(){switch(this.options.trigger){case "click":this.$anchor.on("click.frosty",b.proxy(this.toggle,this));break;case "manual":break;case "focus":this.$anchor.on("focus.frosty",b.proxy(this.show,this));this.$anchor.on("blur.frosty",b.proxy(this.hide,this));break;default:this.$anchor.on("mouseenter.frosty",b.proxy(this.show,this)),this.$anchor.on("mouseleave.frosty",b.proxy(this.hide,this))}b(e).on("resize."+this.rid,b.proxy(this._setPosition,this))},_setState:function(a){this.state=a;switch(a){case "visible":this.$el.appendTo("body");this._checkContent();this._setPosition();this._setPosition();this.options.onShown.call(this);this.$anchor.triggerHandler("shown");break;case "hidden":this.$el.detach(),this.options.onHidden.call(this),this.$anchor.triggerHandler("hidden")}},_checkContent:function(){this.options.selector&&(this.tipContent=b(this.options.selector).html(),this.$el.html(this.tipContent))},_addArrowClass:function(){switch(this.options.position){case "left":this.$el.addClass("arrow-right");break;case "right":this.$el.addClass("arrow-left");break;case "bottom":this.$el.addClass("arrow-top");break;default:this.$el.addClass("arrow-bottom")}},_getPosition:function(){var a=this.$anchor.offset();switch(this.options.position){case "left":a.left=a.left-this.$el.outerWidth()-this.options.offset;a.top=a.top+this.$anchor.outerHeight()/2-this.$el.outerHeight()/2;break;case "right":a.left=a.left+this.$anchor.outerWidth()+this.options.offset;a.top=a.top+this.$anchor.outerHeight()/2-this.$el.outerHeight()/2;break;case "bottom":a.top=a.top+this.$anchor.outerHeight()+this.options.offset;a.left=a.left+this.$anchor.outerWidth()/2-this.$el.outerWidth()/2;break;default:a.top=a.top-this.$el.outerHeight()-this.options.offset,a.left=a.left+this.$anchor.outerWidth()/2-this.$el.outerWidth()/2}return a},_getNewCoords:function(){var a=this._getPosition();this.$el.attr("class",this.options.classes);this._addArrowClass();return a},_checkOverflow:function(a){if(!this.options.smartReposition)return a;var d=this.options.position,c={};0>a.top&&(this.options.position="bottom",c.top=!0);0>a.left&&(this.options.position="right",c.left=!0);this.options.position!==d&&(a=this._getNewCoords());a.top+this.$el.height()>b(e).height()+b(h).scrollTop()&&(this.options.position="top",c.bottom=!0);a.left+this.$el.width()>b(e).width()&&(this.options.position="left",c.right=!0);this.options.position!==d&&(a=this._getNewCoords());0>a.top&&(this.options.position="bottom",c.top=!0);0>a.left&&(this.options.position="right",c.left=!0);if(4==Object.keys(c).length)return console.error("frosty tootlip has no space to get opened!"),a;2==Object.keys(c).length&&(c.left&&c.right&&(this.options.position="top"),c.top&&c.bottom&&(this.options.position="right"),a=this._getNewCoords());return a},_setPosition:function(){var a=this._getPosition(),a=this._checkOverflow(a);this.$el.css(a)},show:function(){var a=this,b="object"===typeof this.options.delay?parseInt(this.options.delay.show,10):parseInt(this.options.delay,10);clearTimeout(this.timeout);this.timeout=0===b?this._setState("visible"):setTimeout(function(){a._setState("visible")},b)},hide:function(){var a=this,b="object"===typeof this.options.delay?parseInt(this.options.delay.hide,10):parseInt(this.options.delay,10);clearTimeout(this.timeout);this.timeout=0===b?this._setState("hidden"):setTimeout(function(){a._setState("hidden")},b)},toggle:function(){"visible"===this.state?this.hide():this.show()},addClass:function(a){"string"===typeof a&&this.$el.addClass(a)},removeClass:function(a){"string"===typeof a&&this.$el.removeClass(a)},destroy:function(){b(e).off("resize."+this.rid);this.$el.hide();this.$anchor.removeData("plugin_frosty");this.$anchor.off(".frosty");this.$el.remove()}};b.fn.frosty=function(a,d){if("string"===typeof a)this.each(function(){if(b.data(this,"plugin_frosty"))switch(a){case "show":b.data(this,"plugin_frosty").show();break;case "hide":b.data(this,"plugin_frosty").hide();break;case "toggle":b.data(this,"plugin_frosty").toggle();break;case "addClass":b.data(this,"plugin_frosty").addClass(d);break;case "removeClass":b.data(this,"plugin_frosty").removeClass(d);break;case "destroy":b.data(this,"plugin_frosty").destroy()}});else return this.each(function(){b.data(this,"plugin_frosty")||b.data(this,"plugin_frosty",new f(this,a))})}})(jQuery,window,document);